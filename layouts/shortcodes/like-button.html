{{/* ç‚¹èµæŒ‰é’® shortcode - ä¿æŒåŸæœ‰åŠŸèƒ½ */}}
<div class="like-container" style="margin: 20px 0;">
    <button class="like-button" onclick="toggleLike('{{ .Get 0 | default .Page.RelPermalink }}')">
        <span class="crypto-icon">ğŸ‘</span>
        <span class="like-text">ç‚¹èµ</span>
        <span class="like-count" id="like-count-{{ .Get 0 | default .Page.RelPermalink | urlize }}">0</span>
    </button>
</div>

<script>
// ä¿æŒåŸæœ‰çš„ç‚¹èµåŠŸèƒ½
if (typeof toggleLike === 'undefined') {
    function toggleLike(postId) {
        const button = document.querySelector(`button[onclick="toggleLike('${postId}')"]`);
        const countElement = document.getElementById(`like-count-${postId.replace(/[^a-zA-Z0-9]/g, '')}`);
        
        if (button.classList.contains('liked')) {
            button.classList.remove('liked');
            button.querySelector('.like-text').textContent = 'ç‚¹èµ';
            let count = parseInt(countElement.textContent) - 1;
            countElement.textContent = Math.max(0, count);
            localStorage.removeItem(`liked-${postId}`);
        } else {
            button.classList.add('liked');
            button.querySelector('.like-text').textContent = 'å·²èµ';
            let count = parseInt(countElement.textContent) + 1;
            countElement.textContent = count;
            localStorage.setItem(`liked-${postId}`, 'true');
        }
    }
    
    // é¡µé¢åŠ è½½æ—¶æ¢å¤ç‚¹èµçŠ¶æ€
    document.addEventListener('DOMContentLoaded', function() {
        const buttons = document.querySelectorAll('.like-button');
        buttons.forEach(button => {
            const onclick = button.getAttribute('onclick');
            const postId = onclick.match(/toggleLike\('([^']+)'\)/)[1];
            if (localStorage.getItem(`liked-${postId}`)) {
                button.classList.add('liked');
                button.querySelector('.like-text').textContent = 'å·²èµ';
            }
        });
    });
}
</script>